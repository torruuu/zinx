---
import LogoNav from '@components/nav/LogoNav.astro'
import LanguagePicker from '@/components/nav/LanguagePicker.vue'
import { getLangFromUrl, useTranslations } from '@/i18n/utils'

const lang = getLangFromUrl(Astro.url)
const t = useTranslations(lang)
---

<nav class="nav-container">
  <LogoNav />
  <div class="nav-container__links">
    <a href="/" class="nav-container__link">{t('nav.home')}</a>
    <a href="/movies" class="nav-container__link">{t('nav.movies')}</a>
    <a href="/series" class="nav-container__link">{t('nav.series')}</a>
    <a href="/explore" class="nav-container__link">{t('nav.explore')}</a>
  </div>
  <div class="nav-container__picker">
    <LanguagePicker lang={lang} client:load />
  </div>
</nav>

<div class="test"></div>

<style lang="scss">
  .nav-container {
    height: 6.5vh;
    width: 100%;
    padding: map-get($map: $sizes, $key: s-general-padding);
    @include flex($justify-content: flex-start);
    gap: 2rem;

    position: fixed;
    top: 0;
    left: 0;

    animation: scroll-header linear both;
    animation-timeline: scroll(root);
    animation-range: 0 10rem;
    &__links {
      @include flex();
      gap: 0.8rem;
    }
    &__link {
      color: map-get($map: $colors, $key: c-gray);
      &:hover {
        color: map-get($map: $colors, $key: c-white);
      }
    }
    &__picker {
      height: 100%;
      @include flex();
    }
  }

  .test {
    background-color: wheat;
    height: 100rem;
  }

  @keyframes scroll-header {
    to {
      background-color: map-get($map: $colors, $key: c-black-sec);
      background-image: linear-gradient(180deg, rgba(0, 0, 0, 0.7) 10%, transparent);
    }
  }
</style>
